import{r as o,o as k,a as l,c as n,b as t,w as a,v as d,e as V,F as r,d as h,t as i,f as x}from"./index.29e2c495.js";const D=t("h1",null,"Ajout d'un film",-1),F={class:"form-element"},A=t("label",{for:"titre"},"titre : ",-1),B={class:"form-element"},G=t("label",{for:"dateSortie"},"Date de sortie : ",-1),M={class:"form-element"},j=t("label",{for:"duree"},"Duree : ",-1),C={class:"form-element"},N=t("label",{for:"synopsis"},"Synopsis : ",-1),P={class:"form-element"},E=t("label",{for:"genre"},"Genre : ",-1),L=["value"],R={class:"form-element"},T=t("label",{for:"realisateur"},"Realisateur : ",-1),$=["value"],q={class:"form-element"},z=t("label",{for:"realisateur"},"Acteurs : ",-1),H=["value"],K={__name:"AjoutFilm",setup(I){const c=o(""),m=o(),v=o(),_=o(""),p=o(),f=o(),y=o(),g=o([]),b=o([]);k(()=>{U(),w()});async function S(){const u={titre:c.value,dateSortie:m.value,duree:v.value,synopsis:_.value,genre:p.value,realisateur:f.value,acteurs:y.value};await axios.post("films",u),this.$router.push("/")}async function U(){const u=await axios.get("genres");g.value=u.data}async function w(){const u=await axios.get("participants");b.value=u.data}return(u,s)=>(l(),n("main",null,[D,t("form",null,[t("section",F,[A,a(t("input",{id:"titre",type:"text","onUpdate:modelValue":s[0]||(s[0]=e=>c.value=e)},null,512),[[d,c.value]])]),t("section",B,[G,a(t("input",{type:"date",id:"dateSortie","onUpdate:modelValue":s[1]||(s[1]=e=>m.value=e)},null,512),[[d,m.value]])]),t("section",M,[j,a(t("input",{id:"duree",type:"number","onUpdate:modelValue":s[2]||(s[2]=e=>v.value=e)},null,512),[[d,v.value]])]),t("section",C,[N,a(t("textarea",{id:"synopsis","onUpdate:modelValue":s[3]||(s[3]=e=>_.value=e),cols:"30",rows:"10"},null,512),[[d,_.value]])]),t("section",P,[E,a(t("select",{id:"genre","onUpdate:modelValue":s[4]||(s[4]=e=>p.value=e)},[(l(!0),n(r,null,h(g.value,e=>(l(),n("option",{value:e},i(e.libelle),9,L))),256))],512),[[V,p.value]])]),t("section",R,[T,a(t("select",{id:"realisateur","onUpdate:modelValue":s[5]||(s[5]=e=>f.value=e)},[(l(!0),n(r,null,h(b.value,e=>(l(),n(r,null,[e.realisateur?(l(),n("option",{key:0,value:e},i(e.prenom)+" "+i(e.nom),9,$)):x("",!0)],64))),256))],512),[[V,f.value]])]),t("section",q,[z,a(t("select",{id:"realisateur","onUpdate:modelValue":s[6]||(s[6]=e=>y.value=e),multiple:""},[(l(!0),n(r,null,h(b.value,e=>(l(),n(r,null,[e.acteur?(l(),n("option",{key:0,value:e},i(e.prenom)+" "+i(e.nom),9,H)):x("",!0)],64))),256))],512),[[V,y.value]])]),t("button",{type:"button",onClick:S},"Validation")])]))}};export{K as default};
